<%= render "layouts/navbar2" %>
<section class="h-100 h-custom" style="background-color: #8fc4b7;">
  <div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-lg-8 col-xl-6" style="display: flex;
      justify-content: center;">
        <div class="card rounded-3" style="width: 500px;">
          <% if @book.pdf.attached? %>
          <!-- <%# link_to rails_blob_path(@book.pdf, disposition: 'inline'), target: '_blank' do %> -->
          <!-- <iframe src="<%= rails_blob_path(@book.pdf, disposition: 'inline') %>" width="600" height="400"></iframe>
          <img src="https://img.freepik.com/premium-photo/opened-book-with-flying-pages-butterflies-dark-backgroundgenerative-ai_391052-12859.jpg"
            class="w-100" style="border-top-left-radius: .3rem; border-top-right-radius: .3rem;"
            alt="Sample photo">
          </iframe> -->

          <img src="https://img.freepik.com/premium-photo/opened-book-with-flying-pages-butterflies-dark-backgroundgenerative-ai_391052-12859.jpg"
            class="w-100 " id="clickable-image"
            style="border-top-left-radius: .3rem; border-top-right-radius: .3rem;"
            alt="Sample photo" />
          <!-- </img> -->

          <iframe id="pdf-iframe" width="100%" height="400"></iframe>

          <script>
            var pdfIframe = document.getElementById('pdf-iframe');
            var imageElement = document.getElementById('clickable-image');
            pdfIframe.style.display = 'none';
            imageElement.addEventListener('click', function() {
              // Set the PDF source and make the iframe visible when the image is clicked.
              var pdfSrc = "<%= rails_blob_path(@book.pdf, disposition: 'inline') %>";
              pdfIframe.src = pdfSrc;
              pdfIframe.style.display = 'block';
              imageElement.style.display = 'none';
            });
          </script>








          <!-- <%# end %> -->
          <% else %>
          <p>No PDF file attached</p>
          <% end %>

          <div class="card-body p-1 p-md-3" style="margin-left: 48px;">
            <h3 class="mb-4 pb-2 pb-md-0 mb-md-3 px-md-2">Book Detail</h3>

            <form class="px-md-2">

                <div class="form-outline ">
                  <p><strong style="margin-right: 40px;">Title: </strong><%= @book.title %></p>
                </div>
                <div class="col-md-6 ">
                  <p><strong style="margin-right: 22px;">Author: </strong><%= @book.author %></p>
                </div>
                <div class="col-md-6 ">
                  <p><strong style="margin-right: 35px;">ISBN: </strong><%= @book.isbn %></p>
                </div>
                <div class="col-md-6 ">
                  <p><strong style="margin-right: 26px;">Status: </strong><%= @book.status %></p>
                </div>
                <div class="col-md-6 ">
                  <p><strong style="margin-right: 37px;">Type: </strong><%= @book.type %></p>
                </div>
                  <%= form_with(url: "/bookings/", method: :post) do |form| %>
                  <%= form.hidden_field :id , value: @book.id %>
                  <button type="submit" class="btn btn-warning">Book Now</button>
                  <% end %>
            </form>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>

